@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-gray-50 text-gray-900 font-sans;
  }

  code,
  pre {
    @apply font-mono;
  }

  /* Safari iOS zoom prevention */
  input,
  textarea,
  select {
    font-size: 16px !important;
  }

  @media screen and (max-width: 768px) {
    input,
    textarea,
    select {
      font-size: 16px !important;
    }
  }
}

@layer components {
  .claude-output {
    @apply bg-gray-800 border rounded-lg shadow-sm;
    border-color: #1f1f1f;
  }

  .claude-message {
    @apply p-3 border-b last:border-b-0;
    border-color: #1f1f1f;
  }

  .claude-message-user {
    @apply bg-gray-700 border-l-4;
    border-left-color: #353535;
  }

  .claude-message-claude {
    @apply bg-gray-800;
  }

  .claude-message-system {
    @apply bg-yellow-900/20 border-l-4 border-yellow-700;
  }

  .repository-item {
    @apply p-3 border rounded-lg hover:bg-gray-700 cursor-pointer transition-colors;
    border-color: #1f1f1f;
  }

  .repository-item-selected {
    @apply bg-gray-700;
    border-color: #353535;
  }

  .repository-status-ready {
    @apply text-green-600;
  }

  .repository-status-cloning {
    @apply text-yellow-600;
  }

  .repository-status-error {
    @apply text-red-600;
  }
}

/* XTerm.js 仮想スクロール設定（Claude Code CLIと同じ動作） */
@layer utilities {
  /* XTerm viewport のスクロールバーを非表示（仮想スクロール機能は維持） */
  .xterm .xterm-viewport {
    overflow-y: scroll !important;
    overflow-x: hidden !important;
    /* viewportのスクロールバーのみ非表示（スクロール機能は維持） */
    scrollbar-width: none !important; /* Firefox */
    -ms-overflow-style: none !important; /* IE/Edge */
  }

  /* Webkit ブラウザ（Chrome, Safari）用スクロールバー非表示 */
  .xterm .xterm-viewport::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
  }

  /* 仮想スクロール領域の適切な配置 */
  .xterm .xterm-scroll-area {
    visibility: hidden !important;
    pointer-events: none !important;
  }

  /* xterm-rows の適切な配置（DOM-based 描画での仮想スクロール） */
  .xterm .xterm-rows {
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
    z-index: 1 !important;
  }

  /* スクリーンエリアの設定 */
  .xterm .xterm-screen {
    position: relative !important;
    overflow: hidden !important;
  }
}
